<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Representation of a borrowed C string."><meta name="keywords" content="rust, rustlang, rust-lang, CStr"><title>CStr in core::ffi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../logo.svg"><style>body { padding-bottom: 30px; }</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../core/index.html"><div class="logo-container"><img class="rust-logo" src="../../logo.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../core/index.html"><div class="logo-container"><img class="rust-logo" src="../../logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">CStr</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.as_ptr">as_ptr</a></li><li><a href="#method.from_bytes_until_nul">from_bytes_until_nul</a></li><li><a href="#method.from_bytes_with_nul">from_bytes_with_nul</a></li><li><a href="#method.from_bytes_with_nul_unchecked">from_bytes_with_nul_unchecked</a></li><li><a href="#method.from_ptr">from_ptr</a></li><li><a href="#method.is_empty">is_empty</a></li><li><a href="#method.to_bytes">to_bytes</a></li><li><a href="#method.to_bytes_with_nul">to_bytes_with_nul</a></li><li><a href="#method.to_str">to_str</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-AsRef%3CCStr%3E-for-CStr">AsRef&lt;CStr&gt;</a></li><li><a href="#impl-Debug-for-CStr">Debug</a></li><li><a href="#impl-Default-for-%26CStr">Default</a></li><li><a href="#impl-Eq-for-CStr">Eq</a></li><li><a href="#impl-Hash-for-CStr">Hash</a></li><li><a href="#impl-Index%3CRangeFrom%3Cusize%3E%3E-for-CStr">Index&lt;RangeFrom&lt;usize&gt;&gt;</a></li><li><a href="#impl-Ord-for-CStr">Ord</a></li><li><a href="#impl-PartialEq%3CCStr%3E-for-CStr">PartialEq&lt;CStr&gt;</a></li><li><a href="#impl-PartialOrd%3CCStr%3E-for-CStr">PartialOrd&lt;CStr&gt;</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-CStr">RefUnwindSafe</a></li><li><a href="#impl-Send-for-CStr">Send</a></li><li><a href="#impl-Sized-for-CStr">!Sized</a></li><li><a href="#impl-Sync-for-CStr">Sync</a></li><li><a href="#impl-Unpin-for-CStr">Unpin</a></li><li><a href="#impl-UnwindSafe-for-CStr">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-CStr">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-CStr">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-CStr">BorrowMut&lt;T&gt;</a></li></ul></section><h2><a href="index.html">In core::ffi</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‚ÄòS‚Äô to search, ‚Äò?‚Äô for more options‚Ä¶" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Struct <a href="../index.html">core</a>::<wbr><a href="index.html">ffi</a>::<wbr><a class="struct" href="#">CStr</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><span class="since" title="Stable since Rust version 1.64.0">1.64.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#87-93">source</a> ¬∑ <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust struct"><code>pub struct CStr { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Representation of a borrowed C string.</p>
<p>This type represents a borrowed reference to a nul-terminated
array of bytes. It can be constructed safely from a <code>&amp;[<a href="../primitive.u8.html" title="u8">u8</a>]</code>
slice, or unsafely from a raw <code>*const c_char</code>. It can then be
converted to a Rust <code>&amp;<a href="../primitive.str.html" title="str">str</a></code> by performing UTF-8 validation, or
into an owned <code>CString</code>.</p>
<p><code>&amp;CStr</code> is to <code>CString</code> as <code>&amp;<a href="../primitive.str.html" title="str">str</a></code> is to <code>String</code>: the former
in each pair are borrowed references; the latter are owned
strings.</p>
<p>Note that this structure is <strong>not</strong> <code>repr(C)</code> and is not recommended to be
placed in the signatures of FFI functions. Instead, safe wrappers of FFI
functions may leverage the unsafe <a href="struct.CStr.html#method.from_ptr" title="CStr::from_ptr"><code>CStr::from_ptr</code></a> constructor to provide
a safe interface to other consumers.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Inspecting a foreign C string:</p>

<div class="example-wrap ignore"><div class='tooltip'>‚ìò</div><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;
<span class="kw">use </span>std::os::raw::c_char;

<span class="kw">extern </span><span class="string">&quot;C&quot; </span>{ <span class="kw">fn </span>my_string() -&gt; <span class="kw-2">*const </span>c_char; }

<span class="kw">unsafe </span>{
    <span class="kw">let </span>slice = CStr::from_ptr(my_string());
    <span class="macro">println!</span>(<span class="string">&quot;string buffer size without nul terminator: {}&quot;</span>, slice.to_bytes().len());
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0Ause%20std%3A%3Aos%3A%3Araw%3A%3Ac_char%3B%0A%0Aextern%20%22C%22%20%7B%20fn%20my_string()%20-%3E%20*const%20c_char%3B%20%7D%0A%0Aunsafe%20%7B%0A%20%20%20%20let%20slice%20%3D%20CStr%3A%3Afrom_ptr(my_string())%3B%0A%20%20%20%20println!(%22string%20buffer%20size%20without%20nul%20terminator%3A%20%7B%7D%22%2C%20slice.to_bytes().len())%3B%0A%7D%0A%7D&amp;edition=2021">Run</a></div>
<p>Passing a Rust-originating C string:</p>

<div class="example-wrap ignore"><div class='tooltip'>‚ìò</div><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::{CString, CStr};
<span class="kw">use </span>std::os::raw::c_char;

<span class="kw">fn </span>work(data: <span class="kw-2">&amp;</span>CStr) {
    <span class="kw">extern </span><span class="string">&quot;C&quot; </span>{ <span class="kw">fn </span>work_with(data: <span class="kw-2">*const </span>c_char); }

    <span class="kw">unsafe </span>{ work_with(data.as_ptr()) }
}

<span class="kw">let </span>s = CString::new(<span class="string">&quot;data data data data&quot;</span>).expect(<span class="string">&quot;CString::new failed&quot;</span>);
work(<span class="kw-2">&amp;</span>s);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3A%7BCString%2C%20CStr%7D%3B%0Ause%20std%3A%3Aos%3A%3Araw%3A%3Ac_char%3B%0A%0Afn%20work(data%3A%20%26CStr)%20%7B%0A%20%20%20%20extern%20%22C%22%20%7B%20fn%20work_with(data%3A%20*const%20c_char)%3B%20%7D%0A%0A%20%20%20%20unsafe%20%7B%20work_with(data.as_ptr())%20%7D%0A%7D%0A%0Alet%20s%20%3D%20CString%3A%3Anew(%22data%20data%20data%20data%22).expect(%22CString%3A%3Anew%20failed%22)%3B%0Awork(%26s)%3B%0A%7D&amp;edition=2021">Run</a></div>
<p>Converting a foreign C string into a Rust <code>String</code>:</p>

<div class="example-wrap ignore"><div class='tooltip'>‚ìò</div><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;
<span class="kw">use </span>std::os::raw::c_char;

<span class="kw">extern </span><span class="string">&quot;C&quot; </span>{ <span class="kw">fn </span>my_string() -&gt; <span class="kw-2">*const </span>c_char; }

<span class="kw">fn </span>my_string_safe() -&gt; String {
    <span class="kw">let </span>cstr = <span class="kw">unsafe </span>{ CStr::from_ptr(my_string()) };
    <span class="comment">// Get copy-on-write Cow&lt;&#39;_, str&gt;, then guarantee a freshly-owned String allocation
    </span>String::from_utf8_lossy(cstr.to_bytes()).to_string()
}

<span class="macro">println!</span>(<span class="string">&quot;string: {}&quot;</span>, my_string_safe());</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0Ause%20std%3A%3Aos%3A%3Araw%3A%3Ac_char%3B%0A%0Aextern%20%22C%22%20%7B%20fn%20my_string()%20-%3E%20*const%20c_char%3B%20%7D%0A%0Afn%20my_string_safe()%20-%3E%20String%20%7B%0A%20%20%20%20let%20cstr%20%3D%20unsafe%20%7B%20CStr%3A%3Afrom_ptr(my_string())%20%7D%3B%0A%20%20%20%20%2F%2F%20Get%20copy-on-write%20Cow%3C'_%2C%20str%3E%2C%20then%20guarantee%20a%20freshly-owned%20String%20allocation%0A%20%20%20%20String%3A%3Afrom_utf8_lossy(cstr.to_bytes()).to_string()%0A%7D%0A%0Aprintln!(%22string%3A%20%7B%7D%22%2C%20my_string_safe())%3B%0A%7D&amp;edition=2021">Run</a></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-CStr" class="impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#188-612">source</a><a href="#impl-CStr" class="anchor"></a><h3 class="code-header">impl <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_ptr" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0, const unstable">1.0.0 (const: <a href="https://github.com/rust-lang/rust/issues/101719" title="Tracking issue for const_cstr_methods">unstable</a>)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#253-289">source</a></span><h4 class="code-header">pub unsafe fn <a href="#method.from_ptr" class="fnname">from_ptr</a>&lt;'a&gt;(ptr: <a class="primitive" href="../primitive.pointer.html">*const </a><a class="type" href="type.c_char.html" title="type core::ffi::c_char">c_char</a>) -&gt; &amp;'a <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h4></section></summary><div class="docblock"><p>Wraps a raw C string with a safe C string wrapper.</p>
<p>This function will wrap the provided <code>ptr</code> with a <code>CStr</code> wrapper, which
allows inspection and interoperation of non-owned C strings. The total
size of the raw C string must be smaller than <code>isize::MAX</code> <strong>bytes</strong>
in memory due to calling the <code>slice::from_raw_parts</code> function.</p>
<h5 id="safety"><a href="#safety">Safety</a></h5>
<ul>
<li>
<p>The memory pointed to by <code>ptr</code> must contain a valid nul terminator at the
end of the string.</p>
</li>
<li>
<p><code>ptr</code> must be <a href="../ptr/index.html#safety">valid</a> for reads of bytes up to and including the null terminator.
This means in particular:</p>
<ul>
<li>The entire memory range of this <code>CStr</code> must be contained within a single allocated object!</li>
<li><code>ptr</code> must be non-null even for a zero-length cstr.</li>
</ul>
</li>
<li>
<p>The memory referenced by the returned <code>CStr</code> must not be mutated for
the duration of lifetime <code>'a</code>.</p>
</li>
</ul>
<blockquote>
<p><strong>Note</strong>: This operation is intended to be a 0-cost cast but it is
currently implemented with an up-front calculation of the length of
the string. This is not guaranteed to always be the case.</p>
</blockquote>
<h5 id="caveat"><a href="#caveat">Caveat</a></h5>
<p>The lifetime for the returned slice is inferred from its usage. To prevent accidental misuse,
it‚Äôs suggested to tie the lifetime to whichever source lifetime is safe in the context,
such as by providing a helper function taking the lifetime of a host value for the slice,
or by explicit annotation.</p>
<h5 id="examples-1"><a href="#examples-1">Examples</a></h5>
<div class="example-wrap ignore"><div class='tooltip'>‚ìò</div><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::{c_char, CStr};

<span class="kw">extern </span><span class="string">&quot;C&quot; </span>{
    <span class="kw">fn </span>my_string() -&gt; <span class="kw-2">*const </span>c_char;
}

<span class="kw">unsafe </span>{
    <span class="kw">let </span>slice = CStr::from_ptr(my_string());
    <span class="macro">println!</span>(<span class="string">&quot;string returned: {}&quot;</span>, slice.to_str().unwrap());
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3A%7Bc_char%2C%20CStr%7D%3B%0A%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20my_string()%20-%3E%20*const%20c_char%3B%0A%7D%0A%0Aunsafe%20%7B%0A%20%20%20%20let%20slice%20%3D%20CStr%3A%3Afrom_ptr(my_string())%3B%0A%20%20%20%20println!(%22string%20returned%3A%20%7B%7D%22%2C%20slice.to_str().unwrap())%3B%0A%7D%0A%7D&amp;edition=2021">Run</a></div>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![feature(const_cstr_methods)]

</span><span class="kw">use </span>std::ffi::{c_char, CStr};

<span class="kw">const </span>HELLO_PTR: <span class="kw-2">*const </span>c_char = {
    <span class="kw">const </span>BYTES: <span class="kw-2">&amp;</span>[u8] = <span class="string">b&quot;Hello, world!\0&quot;</span>;
    BYTES.as_ptr().cast()
};
<span class="kw">const </span>HELLO: <span class="kw-2">&amp;</span>CStr = <span class="kw">unsafe </span>{ CStr::from_ptr(HELLO_PTR) };</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_cstr_methods)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3A%7Bc_char%2C%20CStr%7D%3B%0A%0Aconst%20HELLO_PTR%3A%20*const%20c_char%20%3D%20%7B%0A%20%20%20%20const%20BYTES%3A%20%26%5Bu8%5D%20%3D%20b%22Hello%2C%20world!%5C0%22%3B%0A%20%20%20%20BYTES.as_ptr().cast()%0A%7D%3B%0Aconst%20HELLO%3A%20%26CStr%20%3D%20unsafe%20%7B%20CStr%3A%3Afrom_ptr(HELLO_PTR)%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_bytes_until_nul" class="method has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/95027" title="Tracking issue for cstr_from_bytes_until_nul">unstable</a></span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#324-335">source</a></span><h4 class="code-header">pub fn <a href="#method.from_bytes_until_nul" class="fnname">from_bytes_until_nul</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;bytes: &amp;[<a class="primitive" href="../primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="../result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>, <a class="struct" href="struct.FromBytesUntilNulError.html" title="struct core::ffi::FromBytesUntilNulError">FromBytesUntilNulError</a>&gt;</h4></section><span class="item-info"><div class="stab unstable"><span class="emoji">üî¨</span><span>This is a nightly-only experimental API. (<code>cstr_from_bytes_until_nul</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/95027">#95027</a>)</span></div></span></summary><div class="docblock"><p>Creates a C string wrapper from a byte slice.</p>
<p>This method will create a <code>CStr</code> from any byte slice that contains at
least one nul byte. The caller does not need to know or specify where
the nul byte is located.</p>
<p>If the first byte is a nul character, this method will return an
empty <code>CStr</code>. If multiple nul characters are present, the <code>CStr</code> will
end at the first one.</p>
<p>If the slice only has a single nul byte at the end, this method is
equivalent to <a href="struct.CStr.html#method.from_bytes_with_nul" title="CStr::from_bytes_with_nul"><code>CStr::from_bytes_with_nul</code></a>.</p>
<h5 id="examples-2"><a href="#examples-2">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![feature(cstr_from_bytes_until_nul)]

</span><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span><span class="kw-2">mut </span>buffer = [<span class="number">0u8</span>; <span class="number">16</span>];
<span class="kw">unsafe </span>{
    <span class="comment">// Here we might call an unsafe C function that writes a string
    // into the buffer.
    </span><span class="kw">let </span>buf_ptr = buffer.as_mut_ptr();
    buf_ptr.write_bytes(<span class="string">b&#39;A&#39;</span>, <span class="number">8</span>);
}
<span class="comment">// Attempt to extract a C nul-terminated string from the buffer.
</span><span class="kw">let </span>c_str = CStr::from_bytes_until_nul(<span class="kw-2">&amp;</span>buffer[..]).unwrap();
<span class="macro">assert_eq!</span>(c_str.to_str().unwrap(), <span class="string">&quot;AAAAAAAA&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(cstr_from_bytes_until_nul)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20mut%20buffer%20%3D%20%5B0u8%3B%2016%5D%3B%0Aunsafe%20%7B%0A%20%20%20%20%2F%2F%20Here%20we%20might%20call%20an%20unsafe%20C%20function%20that%20writes%20a%20string%0A%20%20%20%20%2F%2F%20into%20the%20buffer.%0A%20%20%20%20let%20buf_ptr%20%3D%20buffer.as_mut_ptr()%3B%0A%20%20%20%20buf_ptr.write_bytes(b'A'%2C%208)%3B%0A%7D%0A%2F%2F%20Attempt%20to%20extract%20a%20C%20nul-terminated%20string%20from%20the%20buffer.%0Alet%20c_str%20%3D%20CStr%3A%3Afrom_bytes_until_nul(%26buffer%5B..%5D).unwrap()%3B%0Aassert_eq!(c_str.to_str().unwrap()%2C%20%22AAAAAAAA%22)%3B%0A%7D&amp;version=nightly&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_bytes_with_nul" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.10.0, const unstable">1.10.0 (const: <a href="https://github.com/rust-lang/rust/issues/101719" title="Tracking issue for const_cstr_methods">unstable</a>)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#374-385">source</a></span><h4 class="code-header">pub fn <a href="#method.from_bytes_with_nul" class="fnname">from_bytes_with_nul</a>(bytes: &amp;[<a class="primitive" href="../primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="../result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="../primitive.reference.html">&amp;</a>Self, <a class="struct" href="struct.FromBytesWithNulError.html" title="struct core::ffi::FromBytesWithNulError">FromBytesWithNulError</a>&gt;</h4></section></summary><div class="docblock"><p>Creates a C string wrapper from a byte slice.</p>
<p>This function will cast the provided <code>bytes</code> to a <code>CStr</code>
wrapper after ensuring that the byte slice is nul-terminated
and does not contain any interior nul bytes.</p>
<p>If the nul byte may not be at the end,
<a href="struct.CStr.html#method.from_bytes_until_nul" title="CStr::from_bytes_until_nul"><code>CStr::from_bytes_until_nul</code></a> can be used instead.</p>
<h5 id="examples-3"><a href="#examples-3">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;hello\0&quot;</span>);
<span class="macro">assert!</span>(cstr.is_ok());</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22hello%5C0%22)%3B%0Aassert!(cstr.is_ok())%3B%0A%7D&amp;edition=2021">Run</a></div>
<p>Creating a <code>CStr</code> without a trailing nul terminator is an error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;hello&quot;</span>);
<span class="macro">assert!</span>(cstr.is_err());</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22hello%22)%3B%0Aassert!(cstr.is_err())%3B%0A%7D&amp;edition=2021">Run</a></div>
<p>Creating a <code>CStr</code> with an interior nul byte is an error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;he\0llo\0&quot;</span>);
<span class="macro">assert!</span>(cstr.is_err());</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22he%5C0llo%5C0%22)%3B%0Aassert!(cstr.is_err())%3B%0A%7D&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_bytes_with_nul_unchecked" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.10.0, const since 1.59.0">1.10.0 (const: 1.59.0)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#412-447">source</a></span><h4 class="code-header">pub const unsafe fn <a href="#method.from_bytes_with_nul_unchecked" class="fnname">from_bytes_with_nul_unchecked</a>(bytes: &amp;[<a class="primitive" href="../primitive.u8.html">u8</a>]) -&gt; &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h4></section></summary><div class="docblock"><p>Unsafely creates a C string wrapper from a byte slice.</p>
<p>This function will cast the provided <code>bytes</code> to a <code>CStr</code> wrapper without
performing any sanity checks.</p>
<h5 id="safety-1"><a href="#safety-1">Safety</a></h5>
<p>The provided slice <strong>must</strong> be nul-terminated and not contain any interior
nul bytes.</p>
<h5 id="examples-4"><a href="#examples-4">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::{CStr, CString};

<span class="kw">unsafe </span>{
    <span class="kw">let </span>cstring = CString::new(<span class="string">&quot;hello&quot;</span>).expect(<span class="string">&quot;CString::new failed&quot;</span>);
    <span class="kw">let </span>cstr = CStr::from_bytes_with_nul_unchecked(cstring.to_bytes_with_nul());
    <span class="macro">assert_eq!</span>(cstr, <span class="kw-2">&amp;*</span>cstring);
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3A%7BCStr%2C%20CString%7D%3B%0A%0Aunsafe%20%7B%0A%20%20%20%20let%20cstring%20%3D%20CString%3A%3Anew(%22hello%22).expect(%22CString%3A%3Anew%20failed%22)%3B%0A%20%20%20%20let%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul_unchecked(cstring.to_bytes_with_nul())%3B%0A%20%20%20%20assert_eq!(cstr%2C%20%26*cstring)%3B%0A%7D%0A%7D&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.as_ptr" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0, const since 1.32.0">1.0.0 (const: 1.32.0)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#499-501">source</a></span><h4 class="code-header">pub const fn <a href="#method.as_ptr" class="fnname">as_ptr</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.pointer.html">*const </a><a class="type" href="type.c_char.html" title="type core::ffi::c_char">c_char</a></h4></section></summary><div class="docblock"><p>Returns the inner pointer to this C string.</p>
<p>The returned pointer will be valid for as long as <code>self</code> is, and points
to a contiguous region of memory terminated with a 0 byte to represent
the end of the string.</p>
<p><strong>WARNING</strong></p>
<p>The returned pointer is read-only; writing to it (including passing it
to C code that writes to it) causes undefined behavior.</p>
<p>It is your responsibility to make sure that the underlying memory is not
freed too early. For example, the following code will cause undefined
behavior when <code>ptr</code> is used inside the <code>unsafe</code> block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CString;

<span class="kw">let </span>ptr = CString::new(<span class="string">&quot;Hello&quot;</span>).expect(<span class="string">&quot;CString::new failed&quot;</span>).as_ptr();
<span class="kw">unsafe </span>{
    <span class="comment">// `ptr` is dangling
    </span><span class="kw-2">*</span>ptr;
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Ballow(unused_must_use)%5D%20%23!%5Ballow(temporary_cstring_as_ptr)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACString%3B%0A%0Alet%20ptr%20%3D%20CString%3A%3Anew(%22Hello%22).expect(%22CString%3A%3Anew%20failed%22).as_ptr()%3B%0Aunsafe%20%7B%0A%20%20%20%20%2F%2F%20%60ptr%60%20is%20dangling%0A%20%20%20%20*ptr%3B%0A%7D%0A%7D&amp;edition=2021">Run</a></div>
<p>This happens because the pointer returned by <code>as_ptr</code> does not carry any
lifetime information and the <code>CString</code> is deallocated immediately after
the <code>CString::new(&quot;Hello&quot;).expect(&quot;CString::new failed&quot;).as_ptr()</code>
expression is evaluated.
To fix the problem, bind the <code>CString</code> to a local variable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CString;

<span class="kw">let </span>hello = CString::new(<span class="string">&quot;Hello&quot;</span>).expect(<span class="string">&quot;CString::new failed&quot;</span>);
<span class="kw">let </span>ptr = hello.as_ptr();
<span class="kw">unsafe </span>{
    <span class="comment">// `ptr` is valid because `hello` is in scope
    </span><span class="kw-2">*</span>ptr;
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Ballow(unused_must_use)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACString%3B%0A%0Alet%20hello%20%3D%20CString%3A%3Anew(%22Hello%22).expect(%22CString%3A%3Anew%20failed%22)%3B%0Alet%20ptr%20%3D%20hello.as_ptr()%3B%0Aunsafe%20%7B%0A%20%20%20%20%2F%2F%20%60ptr%60%20is%20valid%20because%20%60hello%60%20is%20in%20scope%0A%20%20%20%20*ptr%3B%0A%7D%0A%7D&amp;edition=2021">Run</a></div>
<p>This way, the lifetime of the <code>CString</code> in <code>hello</code> encompasses
the lifetime of <code>ptr</code> and the <code>unsafe</code> block.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is_empty" class="method has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#525-529">source</a><h4 class="code-header">pub const fn <a href="#method.is_empty" class="fnname">is_empty</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section><span class="item-info"><div class="stab unstable"><span class="emoji">üî¨</span><span>This is a nightly-only experimental API. (<code>cstr_is_empty</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/102444">#102444</a>)</span></div></span></summary><div class="docblock"><p>Returns <code>true</code> if <code>self.to_bytes()</code> has a length of 0.</p>
<h5 id="examples-5"><a href="#examples-5">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![feature(cstr_is_empty)]

</span><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;foo\0&quot;</span>)<span class="question-mark">?</span>;
<span class="macro">assert!</span>(!cstr.is_empty());

<span class="kw">let </span>empty_cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;\0&quot;</span>)<span class="question-mark">?</span>;
<span class="macro">assert!</span>(empty_cstr.is_empty());</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(cstr_is_empty)%5D%0A%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0Ause%20std%3A%3Affi%3A%3AFromBytesWithNulError%3B%0A%0Afn%20main()%20%7B%20test().unwrap()%3B%20%7D%0Afn%20test()%20-%3E%20Result%3C()%2C%20FromBytesWithNulError%3E%20%7B%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22foo%5C0%22)%3F%3B%0Aassert!(!cstr.is_empty())%3B%0A%0Alet%20empty_cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22%5C0%22)%3F%3B%0Aassert!(empty_cstr.is_empty())%3B%0AOk(())%0A%7D&amp;version=nightly&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_bytes" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0, const unstable">1.0.0 (const: <a href="https://github.com/rust-lang/rust/issues/101719" title="Tracking issue for const_cstr_methods">unstable</a>)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#553-557">source</a></span><h4 class="code-header">pub fn <a href="#method.to_bytes" class="fnname">to_bytes</a>(&amp;self) -&gt; &amp;[<a class="primitive" href="../primitive.u8.html">u8</a>]</h4></section></summary><div class="docblock"><p>Converts this C string to a byte slice.</p>
<p>The returned slice will <strong>not</strong> contain the trailing nul terminator that this C
string has.</p>
<blockquote>
<p><strong>Note</strong>: This method is currently implemented as a constant-time
cast, but it is planned to alter its definition in the future to
perform the length calculation whenever this method is called.</p>
</blockquote>
<h5 id="examples-6"><a href="#examples-6">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;foo\0&quot;</span>).expect(<span class="string">&quot;CStr::from_bytes_with_nul failed&quot;</span>);
<span class="macro">assert_eq!</span>(cstr.to_bytes(), <span class="string">b&quot;foo&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22foo%5C0%22).expect(%22CStr%3A%3Afrom_bytes_with_nul%20failed%22)%3B%0Aassert_eq!(cstr.to_bytes()%2C%20b%22foo%22)%3B%0A%7D&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_bytes_with_nul" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0, const unstable">1.0.0 (const: <a href="https://github.com/rust-lang/rust/issues/101719" title="Tracking issue for const_cstr_methods">unstable</a>)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#581-585">source</a></span><h4 class="code-header">pub fn <a href="#method.to_bytes_with_nul" class="fnname">to_bytes_with_nul</a>(&amp;self) -&gt; &amp;[<a class="primitive" href="../primitive.u8.html">u8</a>]</h4></section></summary><div class="docblock"><p>Converts this C string to a byte slice containing the trailing 0 byte.</p>
<p>This function is the equivalent of <a href="struct.CStr.html#method.to_bytes" title="CStr::to_bytes"><code>CStr::to_bytes</code></a> except that it
will retain the trailing nul terminator instead of chopping it off.</p>
<blockquote>
<p><strong>Note</strong>: This method is currently implemented as a 0-cost cast, but
it is planned to alter its definition in the future to perform the
length calculation whenever this method is called.</p>
</blockquote>
<h5 id="examples-7"><a href="#examples-7">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;foo\0&quot;</span>).expect(<span class="string">&quot;CStr::from_bytes_with_nul failed&quot;</span>);
<span class="macro">assert_eq!</span>(cstr.to_bytes_with_nul(), <span class="string">b&quot;foo\0&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22foo%5C0%22).expect(%22CStr%3A%3Afrom_bytes_with_nul%20failed%22)%3B%0Aassert_eq!(cstr.to_bytes_with_nul()%2C%20b%22foo%5C0%22)%3B%0A%7D&amp;edition=2021">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_str" class="method has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.4.0, const unstable">1.4.0 (const: <a href="https://github.com/rust-lang/rust/issues/101719" title="Tracking issue for const_cstr_methods">unstable</a>)</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#605-611">source</a></span><h4 class="code-header">pub fn <a href="#method.to_str" class="fnname">to_str</a>(&amp;self) -&gt; <a class="enum" href="../result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;<a class="primitive" href="../primitive.str.html">str</a>, <a class="struct" href="../str/struct.Utf8Error.html" title="struct core::str::Utf8Error">Utf8Error</a>&gt;</h4></section></summary><div class="docblock"><p>Yields a <code>&amp;<a href="../primitive.str.html" title="str">str</a></code> slice if the <code>CStr</code> contains valid UTF-8.</p>
<p>If the contents of the <code>CStr</code> are valid UTF-8 data, this
function will return the corresponding <code>&amp;<a href="../primitive.str.html" title="str">str</a></code> slice. Otherwise,
it will return an error with details of where UTF-8 validation failed.</p>
<h5 id="examples-8"><a href="#examples-8">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::ffi::CStr;

<span class="kw">let </span>cstr = CStr::from_bytes_with_nul(<span class="string">b&quot;foo\0&quot;</span>).expect(<span class="string">&quot;CStr::from_bytes_with_nul failed&quot;</span>);
<span class="macro">assert_eq!</span>(cstr.to_str(), <span class="prelude-val">Ok</span>(<span class="string">&quot;foo&quot;</span>));</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Affi%3A%3ACStr%3B%0A%0Alet%20cstr%20%3D%20CStr%3A%3Afrom_bytes_with_nul(b%22foo%5C0%22).expect(%22CStr%3A%3Afrom_bytes_with_nul%20failed%22)%3B%0Aassert_eq!(cstr.to_str()%2C%20Ok(%22foo%22))%3B%0A%7D&amp;edition=2021">Run</a></div>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-AsRef%3CCStr%3E-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.7.0">1.7.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#658-663">source</a></span><a href="#impl-AsRef%3CCStr%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>&gt; for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.as_ref" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#660-662">source</a><a href="#method.as_ref" class="anchor"></a><h4 class="code-header">fn <a href="../convert/trait.AsRef.html#tymethod.as_ref" class="fnname">as_ref</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h4></section></summary><div class='docblock'>Converts this type into a shared reference of the (usually inferred) input type.</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Debug-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.3.0">1.3.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#161-165">source</a></span><a href="#impl-Debug-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#162-164">source</a><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="../fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="../fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="../fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="../fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Default-for-%26CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.10.0">1.10.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#168-174">source</a></span><a href="#impl-Default-for-%26CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../default/trait.Default.html" title="trait core::default::Default">Default</a> for &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.default" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#169-173">source</a><a href="#method.default" class="anchor"></a><h4 class="code-header">fn <a href="../default/trait.Default.html#tymethod.default" class="fnname">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the ‚Äúdefault value‚Äù for a type. <a href="../default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Hash-for-CStr" class="impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#77">source</a><a href="#impl-Hash-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.hash" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#77">source</a><a href="#method.hash" class="anchor"></a><h4 class="code-header">fn <a href="../hash/trait.Hash.html#tymethod.hash" class="fnname">hash</a>&lt;__H:&nbsp;<a class="trait" href="../hash/trait.Hasher.html" title="trait core::hash::Hasher">Hasher</a>&gt;(&amp;self, state: <a class="primitive" href="../primitive.reference.html">&amp;mut </a>__H)</h4></section></summary><div class='docblock'>Feeds this value into the given <a href="../hash/trait.Hasher.html" title="Hasher"><code>Hasher</code></a>. <a href="../hash/trait.Hash.html#tymethod.hash">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Index%3CRangeFrom%3Cusize%3E%3E-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.47.0">1.47.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#636-655">source</a></span><a href="#impl-Index%3CRangeFrom%3Cusize%3E%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../ops/trait.Index.html" title="trait core::ops::Index">Index</a>&lt;<a class="struct" href="../ops/struct.RangeFrom.html" title="struct core::ops::RangeFrom">RangeFrom</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;&gt; for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Output" class="anchor"></a><h4 class="code-header">type <a href="../ops/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h4></section></summary><div class='docblock'>The returned type after indexing.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.index" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#639-654">source</a><a href="#method.index" class="anchor"></a><h4 class="code-header">fn <a href="../ops/trait.Index.html#tymethod.index" class="fnname">index</a>(&amp;self, index: <a class="struct" href="../ops/struct.RangeFrom.html" title="struct core::ops::RangeFrom">RangeFrom</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;) -&gt; &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h4></section></summary><div class='docblock'>Performs the indexing (<code>container[index]</code>) operation. <a href="../ops/trait.Index.html#tymethod.index">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Ord-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#629-633">source</a></span><a href="#impl-Ord-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.cmp" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#630-632">source</a><a href="#method.cmp" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.Ord.html#tymethod.cmp" class="fnname">cmp</a>(&amp;self, other: &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>) -&gt; <a class="enum" href="../cmp/enum.Ordering.html" title="enum core::cmp::Ordering">Ordering</a></h4></section></summary><div class='docblock'>This method returns an <a href="../cmp/enum.Ordering.html" title="Ordering"><code>Ordering</code></a> between <code>self</code> and <code>other</code>. <a href="../cmp/trait.Ord.html#tymethod.cmp">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-PartialEq%3CCStr%3E-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#615-619">source</a></span><a href="#impl-PartialEq%3CCStr%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a>&lt;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>&gt; for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.eq" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#616-618">source</a><a href="#method.eq" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialEq.html#tymethod.eq" class="fnname">eq</a>(&amp;self, other: &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests for <code>self</code> and <code>other</code> values to be equal, and is used
by <code>==</code>. <a href="../cmp/trait.PartialEq.html#tymethod.eq">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.ne" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/cmp.rs.html#227-229">source</a></span><a href="#method.ne" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialEq.html#method.ne" class="fnname">ne</a>(&amp;self, other: <a class="primitive" href="../primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests for <code>!=</code>. The default implementation is almost always
sufficient, and should not be overridden without very good reason. <a href="../cmp/trait.PartialEq.html#method.ne">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-PartialOrd%3CCStr%3E-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#623-627">source</a></span><a href="#impl-PartialOrd%3CCStr%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../cmp/trait.PartialOrd.html" title="trait core::cmp::PartialOrd">PartialOrd</a>&lt;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>&gt; for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.partial_cmp" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/ffi/c_str.rs.html#624-626">source</a><a href="#method.partial_cmp" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialOrd.html#tymethod.partial_cmp" class="fnname">partial_cmp</a>(&amp;self, other: &amp;<a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a>) -&gt; <a class="enum" href="../option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../cmp/enum.Ordering.html" title="enum core::cmp::Ordering">Ordering</a>&gt;</h4></section></summary><div class='docblock'>This method returns an ordering between <code>self</code> and <code>other</code> values if one exists. <a href="../cmp/trait.PartialOrd.html#tymethod.partial_cmp">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.lt" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/cmp.rs.html#1119-1121">source</a></span><a href="#method.lt" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialOrd.html#method.lt" class="fnname">lt</a>(&amp;self, other: <a class="primitive" href="../primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests less than (for <code>self</code> and <code>other</code>) and is used by the <code>&lt;</code> operator. <a href="../cmp/trait.PartialOrd.html#method.lt">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.le" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/cmp.rs.html#1138-1140">source</a></span><a href="#method.le" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialOrd.html#method.le" class="fnname">le</a>(&amp;self, other: <a class="primitive" href="../primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests less than or equal to (for <code>self</code> and <code>other</code>) and is used by the <code>&lt;=</code>
operator. <a href="../cmp/trait.PartialOrd.html#method.le">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.gt" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/cmp.rs.html#1156-1158">source</a></span><a href="#method.gt" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialOrd.html#method.gt" class="fnname">gt</a>(&amp;self, other: <a class="primitive" href="../primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests greater than (for <code>self</code> and <code>other</code>) and is used by the <code>&gt;</code> operator. <a href="../cmp/trait.PartialOrd.html#method.gt">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.ge" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/cmp.rs.html#1175-1177">source</a></span><a href="#method.ge" class="anchor"></a><h4 class="code-header">fn <a href="../cmp/trait.PartialOrd.html#method.ge" class="fnname">ge</a>(&amp;self, other: <a class="primitive" href="../primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>This method tests greater than or equal to (for <code>self</code> and <code>other</code>) and is used by the <code>&gt;=</code>
operator. <a href="../cmp/trait.PartialOrd.html#method.ge">Read more</a></div></details></div></details><section id="impl-Eq-for-CStr" class="impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ¬∑ <a class="srclink" href="../../src/core/ffi/c_str.rs.html#621">source</a></span><a href="#impl-Eq-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-CStr" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../panic/trait.RefUnwindSafe.html" title="trait core::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section><section id="impl-Send-for-CStr" class="impl has-srclink"><a href="#impl-Send-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section><section id="impl-Sized-for-CStr" class="impl has-srclink"><a href="#impl-Sized-for-CStr" class="anchor"></a><h3 class="code-header">impl !<a class="trait" href="../marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section><section id="impl-Sync-for-CStr" class="impl has-srclink"><a href="#impl-Sync-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section><section id="impl-Unpin-for-CStr" class="impl has-srclink"><a href="#impl-Unpin-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section><section id="impl-UnwindSafe-for-CStr" class="impl has-srclink"><a href="#impl-UnwindSafe-for-CStr" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="../panic/trait.UnwindSafe.html" title="trait core::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.CStr.html" title="struct core::ffi::CStr">CStr</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-CStr" class="impl has-srclink"><a class="srclink rightside" href="../../src/core/any.rs.html#200-204">source</a><a href="#impl-Any-for-CStr" class="anchor"></a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="../marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/core/any.rs.html#201-203">source</a><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="../any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="../any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="../any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-CStr" class="impl has-srclink"><a class="srclink rightside" href="../../src/core/borrow.rs.html#211-216">source</a><a href="#impl-Borrow%3CT%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> ¬∑ <a class="srclink" href="../../src/core/borrow.rs.html#213-215">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="../borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="../borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-CStr" class="impl has-srclink"><a class="srclink rightside" href="../../src/core/borrow.rs.html#220-224">source</a><a href="#impl-BorrowMut%3CT%3E-for-CStr" class="anchor"></a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> ¬∑ <a class="srclink" href="../../src/core/borrow.rs.html#221-223">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="../borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="../borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="core" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.0 (69f9c33d7 2022-12-12)" ></div><div style="position: fixed; bottom: 0; left: 0; background-color: #FFC2AA; width: 100%; color: black; padding: 3px; text-align: center; z-index: 999;">This documentation is an old archive. Please see <a style="color: #671b00; text-decoration-line: underline;" href="https://rust.docs.kernel.org">https://rust.docs.kernel.org</a> instead.</div></body></html>