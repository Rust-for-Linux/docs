<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A file system context."><meta name="keywords" content="rust, rustlang, rust-lang, Context"><title>Context in kernel::fs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../logo.svg"><style>body { padding-bottom: 30px; }</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../kernel/index.html"><div class="logo-container"><img class="rust-logo" src="../../logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../kernel/index.html"><div class="logo-container"><img class="rust-logo" src="../../logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Context</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-associated-types">Required Associated Types</a></h3><ul><li><a href="#associatedtype.Data">Data</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#required-associated-consts">Required Associated Constants</a></h3><ul><li><a href="#associatedconstant.USE_VTABLE_ATTR">USE_VTABLE_ATTR</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#provided-associated-consts">Provided Associated Constants</a></h3><ul><li><a href="#associatedconstant.HAS_PARSE_MONOLITHIC">HAS_PARSE_MONOLITHIC</a></li><li><a href="#associatedconstant.HAS_PARSE_UNKNOWN_PARAM">HAS_PARSE_UNKNOWN_PARAM</a></li><li><a href="#associatedconstant.HAS_TREE_KEY">HAS_TREE_KEY</a></li><li><a href="#associatedconstant.HAS_TRY_NEW">HAS_TRY_NEW</a></li><li><a href="#associatedconstant.PARAMS">PARAMS</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.try_new">try_new</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><ul><li><a href="#method.parse_monolithic">parse_monolithic</a></li><li><a href="#method.parse_unknown_param">parse_unknown_param</a></li><li><a href="#method.tree_key">tree_key</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In kernel::fs</a></h2><div id="sidebar-vars" data-name="Context" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../kernel/index.html"><img class="rust-logo" src="../../logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../index.html">kernel</a>::<wbr><a href="index.html">fs</a>::<wbr><a class="trait" href="#">Context</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait Context&lt;T:&nbsp;<a class="trait" href="trait.Type.html" title="trait kernel::fs::Type">Type</a> + ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; {
    type <a href="#associatedtype.Data" class="associatedtype">Data</a>: <a class="trait" href="../trait.PointerWrapper.html" title="trait kernel::PointerWrapper">PointerWrapper</a> + <a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="../../core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static;

    const <a href="#associatedconstant.USE_VTABLE_ATTR" class="constant">USE_VTABLE_ATTR</a>: <a class="primitive" href="../../core/primitive.unit.html">()</a>;
    const <a href="#associatedconstant.HAS_TRY_NEW" class="constant">HAS_TRY_NEW</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false;
    const <a href="#associatedconstant.HAS_PARSE_UNKNOWN_PARAM" class="constant">HAS_PARSE_UNKNOWN_PARAM</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false;
    const <a href="#associatedconstant.HAS_PARSE_MONOLITHIC" class="constant">HAS_PARSE_MONOLITHIC</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false;
    const <a href="#associatedconstant.HAS_TREE_KEY" class="constant">HAS_TREE_KEY</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false;
    const <a href="#associatedconstant.PARAMS" class="constant">PARAMS</a>: <a class="struct" href="param/struct.SpecTable.html" title="struct kernel::fs::param::SpecTable">SpecTable</a>&lt;'static, Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>&gt; = param::SpecTable::empty();

    fn <a href="#tymethod.try_new" class="fnname">try_new</a>() -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>&gt;;

    fn <a href="#method.parse_unknown_param" class="fnname">parse_unknown_param</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_name: &amp;<a class="struct" href="../str/struct.CStr.html" title="struct kernel::str::CStr">CStr</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_value: <a class="enum" href="param/enum.Value.html" title="enum kernel::fs::param::Value">Value</a>&lt;'_&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.parse_monolithic" class="fnname">parse_monolithic</a>&lt;'a&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_buf: <a class="enum" href="../../core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="../../core/primitive.slice.html">&amp;'a mut [</a><a class="primitive" href="../../core/primitive.u8.html">u8</a><a class="primitive" href="../../core/primitive.slice.html">]</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;<a class="enum" href="../../core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="../../core/primitive.slice.html">&amp;'a mut [</a><a class="primitive" href="../../core/primitive.u8.html">u8</a><a class="primitive" href="../../core/primitive.slice.html">]</a>&gt;&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.tree_key" class="fnname">tree_key</a>(_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;T::<a class="associatedtype" href="trait.Type.html#associatedtype.Data" title="type kernel::fs::Type::Data">Data</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A file system context.</p>
<p>It is used to gather configuration to then mount or reconfigure a file system.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Data" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#48">source</a></div><h4 class="code-header">type <a href="#associatedtype.Data" class="associatedtype">Data</a>: <a class="trait" href="../trait.PointerWrapper.html" title="trait kernel::PointerWrapper">PointerWrapper</a> + <a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="../../core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static</h4></div></summary><div class="docblock"><p>Type of the data associated with the context.</p>
</div></details></div><h2 id="required-associated-consts" class="small-section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedconstant.USE_VTABLE_ATTR" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a></div><h4 class="code-header">const <a href="#associatedconstant.USE_VTABLE_ATTR" class="constant">USE_VTABLE_ATTR</a>: <a class="primitive" href="../../core/primitive.unit.html">()</a></h4></div></summary><div class="docblock"><p>A marker to prevent implementors from forgetting to use <a href="../prelude/attr.vtable.html"><code>#[vtable]</code></a>
attribute when implementing this trait.</p>
</div></details></div><h2 id="provided-associated-consts" class="small-section-header">Provided Associated Constants<a href="#provided-associated-consts" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedconstant.HAS_TRY_NEW" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a></div><h4 class="code-header">const <a href="#associatedconstant.HAS_TRY_NEW" class="constant">HAS_TRY_NEW</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false</h4></div></summary><div class="docblock"><p>Indicates if the <code>try_new</code> method is overridden by the implementor.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedconstant.HAS_PARSE_UNKNOWN_PARAM" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a></div><h4 class="code-header">const <a href="#associatedconstant.HAS_PARSE_UNKNOWN_PARAM" class="constant">HAS_PARSE_UNKNOWN_PARAM</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false</h4></div></summary><div class="docblock"><p>Indicates if the <code>parse_unknown_param</code> method is overridden by the implementor.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedconstant.HAS_PARSE_MONOLITHIC" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a></div><h4 class="code-header">const <a href="#associatedconstant.HAS_PARSE_MONOLITHIC" class="constant">HAS_PARSE_MONOLITHIC</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false</h4></div></summary><div class="docblock"><p>Indicates if the <code>parse_monolithic</code> method is overridden by the implementor.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedconstant.HAS_TREE_KEY" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#45">source</a></div><h4 class="code-header">const <a href="#associatedconstant.HAS_TREE_KEY" class="constant">HAS_TREE_KEY</a>: <a class="primitive" href="../../core/primitive.bool.html">bool</a> = false</h4></div></summary><div class="docblock"><p>Indicates if the <code>tree_key</code> method is overridden by the implementor.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="associatedconstant.PARAMS" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#53">source</a></div><h4 class="code-header">const <a href="#associatedconstant.PARAMS" class="constant">PARAMS</a>: <a class="struct" href="param/struct.SpecTable.html" title="struct kernel::fs::param::SpecTable">SpecTable</a>&lt;'static, Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>&gt; = param::SpecTable::empty()</h4></div></summary><div class="docblock"><p>The typed file system parameters.</p>
<p>Users are encouraged to define it using the <a href="../macro.define_fs_params.html" title="crate::define_fs_params"><code>crate::define_fs_params</code></a> macro.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.try_new" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#56">source</a></div><h4 class="code-header">fn <a href="#tymethod.try_new" class="fnname">try_new</a>() -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>&gt;</h4></div></summary><div class="docblock"><p>Creates a new context.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.parse_unknown_param" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#59-65">source</a></div><h4 class="code-header">fn <a href="#method.parse_unknown_param" class="fnname">parse_unknown_param</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;_name: &amp;<a class="struct" href="../str/struct.CStr.html" title="struct kernel::str::CStr">CStr</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;_value: <a class="enum" href="param/enum.Value.html" title="enum kernel::fs::param::Value">Value</a>&lt;'_&gt;<br>) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a></h4></div></summary><div class="docblock"><p>Parses a parameter that wasn’t specified in <a href="trait.Context.html#associatedconstant.PARAMS" title="Self::PARAMS"><code>Self::PARAMS</code></a>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.parse_monolithic" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#72-77">source</a></div><h4 class="code-header">fn <a href="#method.parse_monolithic" class="fnname">parse_monolithic</a>&lt;'a&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;_buf: <a class="enum" href="../../core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="../../core/primitive.slice.html">&amp;'a mut [</a><a class="primitive" href="../../core/primitive.u8.html">u8</a><a class="primitive" href="../../core/primitive.slice.html">]</a>&gt;<br>) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;<a class="enum" href="../../core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="../../core/primitive.slice.html">&amp;'a mut [</a><a class="primitive" href="../../core/primitive.u8.html">u8</a><a class="primitive" href="../../core/primitive.slice.html">]</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Parses the whole parameter block, potentially skipping regular handling for parts of it.</p>
<p>The return value is the portion of the input buffer for which the regular handling
(involving <a href="trait.Context.html#associatedconstant.PARAMS" title="Self::PARAMS"><code>Self::PARAMS</code></a> and <a href="trait.Context.html#method.parse_unknown_param" title="Self::parse_unknown_param"><code>Self::parse_unknown_param</code></a>) will still be carried out.
If it’s <code>None</code>, the regular handling is not performed at all.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.tree_key" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/kernel/fs.rs.html#85-87">source</a></div><h4 class="code-header">fn <a href="#method.tree_key" class="fnname">tree_key</a>(_data: &amp;mut Self::<a class="associatedtype" href="trait.Context.html#associatedtype.Data" title="type kernel::fs::Context::Data">Data</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type kernel::error::Result">Result</a>&lt;T::<a class="associatedtype" href="trait.Type.html#associatedtype.Data" title="type kernel::fs::Type::Data">Data</a>&gt;</h4></div></summary><div class="docblock"><p>Returns the superblock data to be used by this file system context.</p>
<p>This is only needed when <a href="trait.Type.html#associatedconstant.SUPER_TYPE" title="Type::SUPER_TYPE"><code>Type::SUPER_TYPE</code></a> is <a href="enum.Super.html#variant.Keyed" title="Super::Keyed"><code>Super::Keyed</code></a>, otherwise it is never
called. In the former case, when the fs is being mounted, an existing superblock is reused
if one can be found with the same data as the returned value; otherwise a new superblock is
created.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../implementors/kernel/fs/trait.Context.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="kernel" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.62.0 (a8314ef7d 2022-06-27)" ></div>
<div style="position: fixed; bottom: 0; left: 0; background-color: #FFC2AA; width: 100%; color: black; padding: 3px; text-align: center; z-index: 999;">This documentation is an old archive. Please see <a style="color: #671b00; text-decoration-line: underline;" href="https://rust.docs.kernel.org">https://rust.docs.kernel.org</a> instead.</div></body></html>