<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Exposes the kernel’s `spinlock_t`. When multiple CPUs attempt to lock the same spinlock, only one at a time is allowed to progress, the others will block (spinning) until the spinlock is unlocked, at which point another CPU will be allowed to make progress."><meta name="keywords" content="rust, rustlang, rust-lang, SpinLock"><title>SpinLock in kernel::sync - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../logo.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../kernel/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../kernel/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">SpinLock</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.lock">lock</a></li><li><a href="#method.lock_irqdisable">lock_irqdisable</a></li><li><a href="#method.new">new</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><ul><li><a href="#impl-Lock%3CWriteLock%3E">Lock&lt;WriteLock&gt;</a></li><li><a href="#impl-LockFactory">LockFactory</a></li><li><a href="#impl-LockIniter">LockIniter</a></li><li><a href="#impl-Send">Send</a></li><li><a href="#impl-Sync">Sync</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-Unpin">!Unpin</a></li><li><a href="#impl-UnwindSafe">UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a></li><li><a href="#impl-NeedsLockClass">NeedsLockClass</a></li><li><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In kernel::sync</a></h2><div id="sidebar-vars" data-name="SpinLock" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../kernel/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="../index.html">kernel</a>::<wbr><a href="index.html">sync</a>::<wbr><a class="struct" href="#">SpinLock</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#78-86">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct SpinLock&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Exposes the kernel’s <a href="../../../include/linux/spinlock.h"><code>spinlock_t</code></a>. When multiple CPUs attempt to lock the same spinlock, only
one at a time is allowed to progress, the others will block (spinning) until the spinlock is
unlocked, at which point another CPU will be allowed to make progress.</p>
<p>A <a href="struct.SpinLock.html" title="SpinLock"><code>SpinLock</code></a> must first be initialised with a call to <a href="struct.SpinLock.html#method.init_lock" title="SpinLock::init_lock"><code>SpinLock::init_lock</code></a> before it can be
used. The <a href="../macro.spinlock_init.html" title="spinlock_init"><code>spinlock_init</code></a> macro is provided to automatically assign a new lock class to a
spinlock instance.</p>
<p>There are two ways to acquire the lock:</p>
<ul>
<li><a href="struct.SpinLock.html#method.lock" title="SpinLock::lock"><code>SpinLock::lock</code></a>, which doesn’t manage interrupt state, so it should be used in only two
cases: (a) when the caller knows that interrupts are disabled, or (b) when callers never use
it in atomic context (e.g., interrupt handlers), in which case it is ok for interrupts to be
enabled.</li>
<li><a href="struct.SpinLock.html#method.lock_irqdisable" title="SpinLock::lock_irqdisable"><code>SpinLock::lock_irqdisable</code></a>, which disables interrupts if they are enabled before
acquiring the lock. When the lock is released, the interrupt state is automatically returned
to its value before <a href="struct.SpinLock.html#method.lock_irqdisable" title="SpinLock::lock_irqdisable"><code>SpinLock::lock_irqdisable</code></a> was called.</li>
</ul>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="kw">struct</span> <span class="ident">Example</span> {
    <span class="ident">a</span>: <span class="ident">u32</span>,
    <span class="ident">b</span>: <span class="ident">u32</span>,
}

<span class="comment">// Function that acquires spinlock without changing interrupt state.</span>
<span class="kw">fn</span> <span class="ident">lock_example</span>(<span class="ident">value</span>: <span class="kw-2">&amp;</span><span class="ident">SpinLock</span><span class="op">&lt;</span><span class="ident">Example</span><span class="op">&gt;</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">guard</span> <span class="op">=</span> <span class="ident">value</span>.<span class="ident">lock</span>();
    <span class="ident">guard</span>.<span class="ident">a</span> <span class="op">=</span> <span class="number">10</span>;
    <span class="ident">guard</span>.<span class="ident">b</span> <span class="op">=</span> <span class="number">20</span>;
}

<span class="comment">// Function that acquires spinlock and disables interrupts while holding it.</span>
<span class="kw">fn</span> <span class="ident">lock_irqdisable_example</span>(<span class="ident">value</span>: <span class="kw-2">&amp;</span><span class="ident">SpinLock</span><span class="op">&lt;</span><span class="ident">Example</span><span class="op">&gt;</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">guard</span> <span class="op">=</span> <span class="ident">value</span>.<span class="ident">lock_irqdisable</span>();
    <span class="ident">guard</span>.<span class="ident">a</span> <span class="op">=</span> <span class="number">30</span>;
    <span class="ident">guard</span>.<span class="ident">b</span> <span class="op">=</span> <span class="number">40</span>;
}

<span class="comment">// Initialises a spinlock.</span>
<span class="comment">// SAFETY: `spinlock_init` is called below.</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">value</span> <span class="op">=</span> <span class="kw">unsafe</span> { <span class="ident">SpinLock::new</span>(<span class="ident">Example</span> { <span class="ident">a</span>: <span class="number">1</span>, <span class="ident">b</span>: <span class="number">2</span> }) };
<span class="comment">// SAFETY: We don&#39;t move `value`.</span>
<span class="macro">kernel::spinlock_init!</span>(<span class="kw">unsafe</span> { <span class="ident">Pin::new_unchecked</span>(<span class="kw-2">&amp;mut</span> <span class="ident">value</span>) }, <span class="string">&quot;value&quot;</span>);

<span class="comment">// Calls the example functions.</span>
<span class="macro">assert_eq!</span>(<span class="ident">value</span>.<span class="ident">lock</span>().<span class="ident">a</span>, <span class="number">1</span>);
<span class="ident">lock_example</span>(<span class="kw-2">&amp;</span><span class="ident">value</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>.<span class="ident">lock</span>().<span class="ident">a</span>, <span class="number">10</span>);
<span class="ident">lock_irqdisable_example</span>(<span class="kw-2">&amp;</span><span class="ident">value</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>.<span class="ident">lock</span>().<span class="ident">a</span>, <span class="number">30</span>);</code></pre></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#95-108">source</a></span><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.new" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#101-107">source</a></span><a href="#method.new" class="anchor"></a><h4 class="code-header">pub const unsafe fn <a href="#method.new" class="fnname">new</a>(t: T) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new spinlock.</p>
<h5 id="safety"><a href="#safety">Safety</a></h5>
<p>The caller must call <a href="struct.SpinLock.html#method.init_lock" title="SpinLock::init_lock"><code>SpinLock::init_lock</code></a> before using the spinlock.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#110-128">source</a></span><a href="#impl-1" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.lock" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#113-117">source</a></span><a href="#method.lock" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.lock" class="fnname">lock</a>(&amp;self) -&gt; <a class="struct" href="struct.Guard.html" title="struct kernel::sync::Guard">Guard</a>&lt;'_, Self, <a class="struct" href="struct.WriteLock.html" title="struct kernel::sync::WriteLock">WriteLock</a>&gt;</h4></section></summary><div class="docblock"><p>Locks the spinlock and gives the caller access to the data protected by it. Only one thread
at a time is allowed to access the protected data.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.lock_irqdisable" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#123-127">source</a></span><a href="#method.lock_irqdisable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.lock_irqdisable" class="fnname">lock_irqdisable</a>(&amp;self) -&gt; <a class="struct" href="struct.Guard.html" title="struct kernel::sync::Guard">Guard</a>&lt;'_, Self, DisabledInterrupts&gt;</h4></section></summary><div class="docblock"><p>Locks the spinlock and gives the caller access to the data protected by it. Additionally it
disables interrupts (if they are enabled).</p>
<p>When the lock in unlocked, the interrupt state (enabled/disabled) is restored.</p>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Lock%3CWriteLock%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#156-175">source</a></span><a href="#impl-Lock%3CWriteLock%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.Lock.html" title="trait kernel::sync::Lock">Lock</a>&lt;<a class="struct" href="struct.WriteLock.html" title="struct kernel::sync::WriteLock">WriteLock</a>&gt; for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Inner" class="type trait-impl has-srclink"><a href="#associatedtype.Inner" class="anchor"></a><h4 class="code-header">type <a href="trait.Lock.html#associatedtype.Inner" class="associatedtype">Inner</a> = T</h4></section></summary><div class='docblock'><p>The type of the data protected by the lock.</p>
</div></details><details class="rustdoc-toggle" open><summary><section id="associatedtype.GuardContext" class="type trait-impl has-srclink"><a href="#associatedtype.GuardContext" class="anchor"></a><h4 class="code-header">type <a href="trait.Lock.html#associatedtype.GuardContext" class="associatedtype">GuardContext</a> = EmptyGuardContext</h4></section></summary><div class='docblock'><p>The type of context, if any, that needs to be stored in the guard.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.lock_noguard" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#160-164">source</a></span><a href="#method.lock_noguard" class="anchor"></a><h4 class="code-header">fn <a href="trait.Lock.html#tymethod.lock_noguard" class="fnname">lock_noguard</a>(&amp;self) -&gt; EmptyGuardContext</h4></section></summary><div class='docblock'><p>Acquires the lock, making the caller its owner.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.unlock" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#166-170">source</a></span><a href="#method.unlock" class="anchor"></a><h4 class="code-header">unsafe fn <a href="trait.Lock.html#tymethod.unlock" class="fnname">unlock</a>(&amp;self, _: &amp;mut EmptyGuardContext)</h4></section></summary><div class='docblock'><p>Releases the lock, giving up ownership of the lock. <a href="trait.Lock.html#tymethod.unlock">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.locked_data" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#172-174">source</a></span><a href="#method.locked_data" class="anchor"></a><h4 class="code-header">fn <a href="trait.Lock.html#tymethod.locked_data" class="fnname">locked_data</a>(&amp;self) -&gt; &amp;<a class="struct" href="../../core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell">UnsafeCell</a>&lt;T&gt;</h4></section></summary><div class='docblock'><p>Returns the data protected by the lock.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.relock" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/guard.rs.html#116-118">source</a></span><a href="#method.relock" class="anchor"></a><h4 class="code-header">fn <a href="trait.Lock.html#method.relock" class="fnname">relock</a>(&amp;self, ctx: &amp;mut Self::<a class="associatedtype" href="trait.Lock.html#associatedtype.GuardContext" title="type kernel::sync::Lock::GuardContext">GuardContext</a>)</h4></section></summary><div class='docblock'><p>Reacquires the lock, making the caller its owner. <a href="trait.Lock.html#method.relock">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-LockFactory" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#130-137">source</a></span><a href="#impl-LockFactory" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="trait.LockFactory.html" title="trait kernel::sync::LockFactory">LockFactory</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.LockedType" class="type trait-impl has-srclink"><a href="#associatedtype.LockedType" class="anchor"></a><h4 class="code-header">type <a href="trait.LockFactory.html#associatedtype.LockedType" class="associatedtype">LockedType</a> = <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;U&gt;</h4></section></summary><div class='docblock'><p>The parametrised type of the mutual exclusion primitive that can be created by this factory.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.new_lock" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#133-136">source</a></span><a href="#method.new_lock" class="anchor"></a><h4 class="code-header">unsafe fn <a href="trait.LockFactory.html#tymethod.new_lock" class="fnname">new_lock</a>&lt;U&gt;(data: U) -&gt; <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;U&gt;</h4></section></summary><div class='docblock'><p>Constructs a new instance of the mutual exclusion primitive. <a href="trait.LockFactory.html#tymethod.new_lock">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-LockIniter" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#139-147">source</a></span><a href="#impl-LockIniter" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="trait.LockIniter.html" title="trait kernel::sync::LockIniter">LockIniter</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.init_lock" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#140-146">source</a></span><a href="#method.init_lock" class="anchor"></a><h4 class="code-header">unsafe fn <a href="trait.LockIniter.html#tymethod.init_lock" class="fnname">init_lock</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="../prelude/struct.Pin.html" title="struct kernel::prelude::Pin">Pin</a>&lt;<a class="primitive" href="../../core/primitive.reference.html">&amp;mut </a>Self&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;'static <a class="struct" href="../str/struct.CStr.html" title="struct kernel::str::CStr">CStr</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="primitive" href="../../core/primitive.pointer.html">*mut </a>lock_class_key<br>)</h4></section></summary><div class='docblock'><p>Initialises the lock instance so that it can be safely used. <a href="trait.LockIniter.html#tymethod.init_lock">Read more</a></p>
</div></details></div></details><section id="impl-Send" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#89">source</a></span><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section><section id="impl-Sync" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/spinlock.rs.html#93">source</a></span><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../../core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <a class="trait" href="../../core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe" class="impl has-srclink"><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; !<a class="trait" href="../../core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section><section id="impl-Unpin" class="impl has-srclink"><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; !<a class="trait" href="../../core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt;</h3></section><section id="impl-UnwindSafe" class="impl has-srclink"><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;T:&nbsp;?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="../../core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.SpinLock.html" title="struct kernel::sync::SpinLock">SpinLock</a>&lt;T&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../../core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,&nbsp;</span></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Any" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/any.rs.html#132-136">source</a></span><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/any.rs.html#133">source</a></span><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="../../core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="../../core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Borrow%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#209-214">source</a></span><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="../../src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="../../core/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="../../core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#218-222">source</a></span><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../../core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="../../src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="../../core/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="../../core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-From%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#553-558">source</a></span><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../../core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="../../src/core/convert/mod.rs.html#555">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Into%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#537-548">source</a></span><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="../../src/core/convert/mod.rs.html#545">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="../../core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-NeedsLockClass" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/guard.rs.html#159-169">source</a></span><a href="#impl-NeedsLockClass" class="anchor"></a><h3 class="code-header in-band">impl&lt;L&gt; <a class="trait" href="trait.NeedsLockClass.html" title="trait kernel::sync::NeedsLockClass">NeedsLockClass</a> for L <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;L: <a class="trait" href="trait.LockIniter.html" title="trait kernel::sync::LockIniter">LockIniter</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.init" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/kernel/sync/guard.rs.html#160-168">source</a></span><a href="#method.init" class="anchor"></a><h4 class="code-header">unsafe fn <a href="trait.NeedsLockClass.html#tymethod.init" class="fnname">init</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="../prelude/struct.Pin.html" title="struct kernel::prelude::Pin">Pin</a>&lt;<a class="primitive" href="../../core/primitive.reference.html">&amp;mut </a>Self&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;'static <a class="struct" href="../str/struct.CStr.html" title="struct kernel::str::CStr">CStr</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="primitive" href="../../core/primitive.pointer.html">*mut </a>lock_class_key, <br>&nbsp;&nbsp;&nbsp;&nbsp;_: <a class="primitive" href="../../core/primitive.pointer.html">*mut </a>lock_class_key<br>)</h4></section></summary><div class='docblock'><p>Initialises the type instance so that it can be safely used. <a href="trait.NeedsLockClass.html#tymethod.init">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-TryFrom%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#594-603">source</a></span><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="../../core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="../../core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="../../src/core/convert/mod.rs.html#600">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-TryInto%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#579-588">source</a></span><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../../core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="../../core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="../../src/core/convert/mod.rs.html#585">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="../../core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="../../core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="../../core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="../../core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="kernel" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>